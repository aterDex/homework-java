# Сравнение garbage collections "Serial" и "G1" по latency

## Cтатистика

###1. Serial GC 254mb (OutOfMemoryError)

|             | Время работы приложения (м.) | Время работы GC (с.) | Среднее время паузы GC (мс.) | Количество GC |
|------------:|:----------------------------:|:--------------------:|:----------------------------:|:-------------:|
|         1.1 |             4.41             |       37.733578      |          171.5162636         |      220      |
|         1.2 |             4.41             |       37.616493      |          170.9840591         |      220      |
|         1.3 |             4.41             |       38.101382      |           173.1881           |      220      |
|         1.4 |             4.40             |       37.387308      |          169.9423091         |      220      |
|         1.5 |             4.40             |       37.567945      |          170.7633864         |      220      |
| **Среднее** |           **4.41**           |       **37.68**      |          **171.28**          |    **220**    |

###2. G1 GC 254mb (OutOfMemoryError)

|             | Время работы приложения (м.) | Время работы GC (с.) | Среднее время паузы GC (мс.) | Количество GC |
|------------:|:----------------------------:|:--------------------:|:----------------------------:|:-------------:|
|         2.1 |             4.12             |       12.031049      |          21.67756577         |      555      |
|         2.2 |             4.13             |       12.772418      |          23.7405539          |      538      |
|         2.3 |             4.13             |       12.590708      |          24.07401147         |      523      |
|         2.4 |             4.15             |       13.681699      |          25.57326916         |      535      |
|         2.5 |             4.13             |       13.039616      |          24.28233892         |      537      |
| **Среднее** |           **4.13**           |       **12.82**      |           **23.87**          |    **537**    |

###3. Serial GC 4096mb

|             | Время работы приложения (м.) | Время работы GC (с.) | Среднее время паузы GC (мс.) | Количество GC |
|------------:|:----------------------------:|:--------------------:|:----------------------------:|:-------------:|
|         3.1 |             5.06             |       0.740846       |          105.8351429         |       7       |
|         3.2 |             5.07             |       0.704194       |          100.5991429         |       7       |
|         3.3 |             5.07             |       0.719289       |          102.7555714         |       7       |
|         3.4 |             5.06             |       0.747876       |          106.8394286         |       7       |
|         3.5 |             5.06             |       0.727915       |          103.9878571         |       7       |
| **Среднее** |           **5.06**           |       **0.73**       |          **104.00**          |     **7**     |

###4. G1 GC 4096mb

|             | Время работы приложения (м.) | Время работы GC (с.) | Среднее время паузы GC (мс.) | Количество GC |
|------------:|:----------------------------:|:--------------------:|:----------------------------:|:-------------:|
|         4.1 |             5.06             |       0.390844       |          32.57033333         |       12      |
|         4.2 |             5.07             |       0.391978       |          27.99842857         |       14      |
|         4.3 |             5.06             |       0.422684       |          35.22366667         |       12      |
|         4.4 |             5.06             |       0.388761       |           32.39675           |       12      |
|         4.5 |             5.06             |       0.394466       |          32.87216667         |       12      |
| **Среднее** |           **5.06**           |        **0.40**      |           **32.21**          |     **12**    |

## Вывод

Параметр latency оценивается по продолжительности паузы, на которую ставит программу GC во время сборки мусора, чем меньше
продолжительность этой паузы тем лучше.
Как видно из собранной статистики для "Serial" среднее время паузы составляет 171.28 мс. и 104.00 мс. а для "G1" 23.87 мс. и 32.21 мс..
Из чего можно сделать вывод, что GC "G1" предпочтительней для данного приложения при оптимизации параметра latency.
При этом интересно то, что при большем объеме памяти время средней паузы увеличилось на 10 мс, это можно объяснить внутренней оптимизацией сборщика.
При малом объёме доступной памяти, он вызывался гораздо чаще, для того чтобы гарантировать наилучший latency. 
Если памяти достаточно, то сборщик ставит себе менее строгие рамки по паузе.
